<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Agent Handoff System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Urdu:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Noto Sans Urdu', sans-serif;
            direction: rtl;
        }
        .agent-card {
            transition: all 0.3s ease;
        }
        .agent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .handoff-arrow {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        .work-item {
            transition: all 0.2s ease;
        }
        .work-item:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .notification {
            animation: slideIn 0.5s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .priority-high { border-left: 4px solid #ef4444; }
        .priority-medium { border-left: 4px solid #f59e0b; }
        .priority-low { border-left: 4px solid #10b981; }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen p-6">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">üéØ Advanced Agent Handoff System</h1>
            <p class="text-lg text-gray-600">Complete Work Distribution & Tracking System</p>
            <div class="mt-4 flex justify-center space-x-4">
                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm">‚úÖ System Active</span>
                <span id="currentTime" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm"></span>
                <span id="totalTasks" class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm">üìã 6 Tasks</span>
            </div>
        </div>

        <!-- Progress Tracker -->
        <div class="bg-white rounded-xl p-6 shadow-lg mb-8">
            <h2 class="text-xl font-bold text-gray-800 mb-4">üìä Progress Tracker</h2>
            <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
                <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <div class="grid grid-cols-4 gap-2 text-center text-sm">
                <div id="step1" class="text-gray-500">Teacher</div>
                <div id="step2" class="text-gray-500">Uneeza</div>
                <div id="step3" class="text-gray-500">Farida</div>
                <div id="step4" class="text-gray-500">Sunaina</div>
            </div>
        </div>

        <!-- Agent Status Dashboard -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white rounded-lg p-4 shadow-md">
                <h3 class="font-semibold text-gray-800 mb-2">üë®‚Äçüè´ Teacher Status</h3>
                <span id="teacherStatus" class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">üü¢ Available</span>
                <p class="text-xs text-gray-600 mt-2">Last Active: <span id="teacherTime">--</span></p>
            </div>
            <div class="bg-white rounded-lg p-4 shadow-md">
                <h3 class="font-semibold text-gray-800 mb-2">üë©‚Äçüíº Uneeza Status</h3>
                <span id="uneezaStatus" class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs">‚ö™ Waiting</span>
                <p class="text-xs text-gray-600 mt-2">Last Active: <span id="uneezaTime">--</span></p>
            </div>
            <div class="bg-white rounded-lg p-4 shadow-md">
                <h3 class="font-semibold text-gray-800 mb-2">üë©‚Äçüíº Farida Status</h3>
                <span id="faridaStatus" class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs">‚ö™ Waiting</span>
                <p class="text-xs text-gray-600 mt-2">Last Active: <span id="faridaTime">--</span></p>
            </div>
            <div class="bg-white rounded-lg p-4 shadow-md">
                <h3 class="font-semibold text-gray-800 mb-2">üë©‚Äçüéì Sunaina Status</h3>
                <span id="sunainaStatus" class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs">‚ö™ Waiting</span>
                <p class="text-xs text-gray-600 mt-2">Last Active: <span id="sunainaTime">--</span></p>
            </div>
        </div>

        <!-- Agent Flow -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
            <!-- Teacher (Main Role) -->
            <div class="agent-card bg-white rounded-xl p-6 shadow-lg border-l-4 border-blue-500">
                <div class="text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üë®‚Äçüè´</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Teacher</h3>
                    <p class="text-sm text-gray-600 mb-2">Main Role</p>
                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Primary Agent</span>
                    <button onclick="startHandoff('teacher')" class="mt-4 w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        Start Handoff
                    </button>
                </div>
            </div>

            <!-- Uneeza Ismail -->
            <div class="agent-card bg-white rounded-xl p-6 shadow-lg border-l-4 border-green-500">
                <div class="text-center">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üë©‚Äçüíº</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Uneeza Ismail</h3>
                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">Coordinator</span>
                    <button onclick="handoffToFarida()" class="mt-4 w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors" disabled>
                        Handoff to Farida
                    </button>
                </div>
            </div>

            <!-- Farida Bano -->
            <div class="agent-card bg-white rounded-xl p-6 shadow-lg border-l-4 border-purple-500">
                <div class="text-center">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üë©‚Äçüíº</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Farida Bano</h3>
                    <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium">Handoff Agent</span>
                    <button onclick="handoffToSunaina()" class="mt-4 w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors" disabled>
                        Handoff to Sunaina
                    </button>
                </div>
            </div>

            <!-- Sunaina Ismail -->
            <div class="agent-card bg-white rounded-xl p-6 shadow-lg border-l-4 border-pink-500">
                <div class="text-center">
                    <div class="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <span class="text-2xl">üë©‚Äçüéì</span>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Sunaina Ismail</h3>
                    <span class="bg-pink-100 text-pink-800 px-3 py-1 rounded-full text-sm font-medium">Final Agent</span>
                    <button onclick="distributeWork()" class="mt-4 w-full bg-pink-500 text-white py-2 rounded-lg hover:bg-pink-600 transition-colors" disabled>
                        Distribute Work
                    </button>
                </div>
            </div>
        </div>

        <!-- Search & Filter Section -->
        <div class="bg-white rounded-xl p-6 shadow-lg mb-8">
            <div class="flex flex-wrap gap-4 mb-4">
                <input type="text" id="searchInput" placeholder="Search tasks..." class="flex-1 min-w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <select id="priorityFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">All Priorities</option>
                    <option value="high">High Priority</option>
                    <option value="medium">Medium Priority</option>
                    <option value="low">Low Priority</option>
                </select>
                <select id="statusFilter" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">All Status</option>
                    <option value="pending">Pending</option>
                    <option value="progress">In Progress</option>
                    <option value="completed">Completed</option>
                </select>
            </div>
        </div>

        <!-- Work Distribution Section -->
        <div class="bg-white rounded-xl p-8 shadow-lg mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">üìã Work Distribution</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Teachers Work -->
                <div>
                    <h3 class="text-xl font-semibold text-blue-600 mb-4 flex items-center">
                        üë®‚Äçüè´ Teachers Work
                    </h3>
                    <div id="teacherWork" class="space-y-3">
                        <div class="work-item priority-high p-4 bg-blue-50 rounded-lg cursor-pointer border border-blue-200" data-priority="high" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Lesson Planning</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs">üî¥ High</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Prepare weekly lesson plans</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                        <div class="work-item priority-medium p-4 bg-blue-50 rounded-lg cursor-pointer border border-blue-200" data-priority="medium" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Assessment Creation</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">üü° Medium</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Design tests and quizzes</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                        <div class="work-item priority-low p-4 bg-blue-50 rounded-lg cursor-pointer border border-blue-200" data-priority="low" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Student Evaluation</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">üü¢ Low</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Grade assignments and provide feedback</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                    </div>
                </div>

                <!-- Students Work -->
                <div>
                    <h3 class="text-xl font-semibold text-green-600 mb-4 flex items-center">
                        üë®‚Äçüéì Students Work
                    </h3>
                    <div id="studentWork" class="space-y-3">
                        <div class="work-item priority-high p-4 bg-green-50 rounded-lg cursor-pointer border border-green-200" data-priority="high" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Assignment Submission</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs">üî¥ High</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Complete and submit homework</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                        <div class="work-item priority-medium p-4 bg-green-50 rounded-lg cursor-pointer border border-green-200" data-priority="medium" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Project Work</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">üü° Medium</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Work on group projects</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                        <div class="work-item priority-low p-4 bg-green-50 rounded-lg cursor-pointer border border-green-200" data-priority="low" data-status="pending">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="font-medium text-gray-800">Study Sessions</h4>
                                <div class="flex space-x-2">
                                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs">üü¢ Low</span>
                                    <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">Attend study groups and tutorials</p>
                            <p class="text-xs text-gray-500">Assigned: <span class="timestamp">--</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Control Buttons -->
            <div class="mt-8 flex flex-wrap justify-center gap-4">
                <button onclick="addNewWork()" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105">
                    ‚ûï Add New Work Item
                </button>
                <button onclick="generateReport()" class="bg-gradient-to-r from-green-500 to-teal-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-teal-700 transition-all transform hover:scale-105">
                    üìä Generate Report
                </button>
                <button onclick="resetSystem()" class="bg-gradient-to-r from-red-500 to-pink-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-pink-700 transition-all transform hover:scale-105">
                    üîÑ Reset System
                </button>
            </div>
        </div>

        <!-- Work History -->
        <div class="bg-white rounded-xl p-6 shadow-lg mb-8">
            <h2 class="text-xl font-bold text-gray-800 mb-4">üìú Work History</h2>
            <div id="workHistory" class="space-y-2 max-h-64 overflow-y-auto">
                <p class="text-gray-500 text-center py-4">No history available yet</p>
            </div>
        </div>

        <!-- Reports Section -->
        <div id="reportsSection" class="bg-white rounded-xl p-6 shadow-lg mb-8 hidden">
            <h2 class="text-xl font-bold text-gray-800 mb-4">üìà System Reports</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-800">Total Tasks</h3>
                    <p id="reportTotalTasks" class="text-2xl font-bold text-blue-600">6</p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-green-800">Completed</h3>
                    <p id="reportCompleted" class="text-2xl font-bold text-green-600">0</p>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <h3 class="font-semibold text-yellow-800">Pending</h3>
                    <p id="reportPending" class="text-2xl font-bold text-yellow-600">6</p>
                </div>
            </div>
        </div>

        <!-- Status Display -->
        <div id="statusDisplay" class="mt-8 p-6 bg-gray-100 rounded-xl text-center hidden">
            <h3 class="text-lg font-semibold text-gray-800 mb-2">System Status</h3>
            <p id="statusMessage" class="text-gray-600"></p>
        </div>

        <!-- Notifications -->
        <div id="notifications" class="fixed top-4 right-4 space-y-2 z-50"></div>
    </div>

    <script>
        let currentStep = 0;
        let workHistory = [];
        let taskCounter = 6;
        
        // Initialize system
        function initializeSystem() {
            updateTime();
            setInterval(updateTime, 1000);
            setupEventListeners();
            updateTaskTimestamps();
        }
        
        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = `üïê ${now.toLocaleTimeString()}`;
        }
        
        function updateTaskTimestamps() {
            const timestamps = document.querySelectorAll('.timestamp');
            const currentTime = new Date().toLocaleTimeString();
            timestamps.forEach(ts => {
                if (ts.textContent === '--') {
                    ts.textContent = currentTime;
                }
            });
        }
        
        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', filterTasks);
            document.getElementById('priorityFilter').addEventListener('change', filterTasks);
            document.getElementById('statusFilter').addEventListener('change', filterTasks);
        }
        
        function filterTasks() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const priorityFilter = document.getElementById('priorityFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            const workItems = document.querySelectorAll('.work-item');
            
            workItems.forEach(item => {
                const title = item.querySelector('h4').textContent.toLowerCase();
                const priority = item.dataset.priority;
                const status = item.dataset.status;
                
                const matchesSearch = title.includes(searchTerm);
                const matchesPriority = !priorityFilter || priority === priorityFilter;
                const matchesStatus = !statusFilter || status === statusFilter;
                
                if (matchesSearch && matchesPriority && matchesStatus) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }
        
        function updateProgress(step) {
            currentStep = step;
            const progress = (step / 4) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Update step indicators
            for (let i = 1; i <= 4; i++) {
                const stepElement = document.getElementById(`step${i}`);
                if (i <= step) {
                    stepElement.className = 'text-blue-600 font-semibold';
                } else {
                    stepElement.className = 'text-gray-500';
                }
            }
        }
        
        function updateAgentStatus(agent, status, time) {
            document.getElementById(`${agent}Status`).innerHTML = status;
            document.getElementById(`${agent}Time`).textContent = time;
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification p-4 rounded-lg shadow-lg text-white max-w-sm ${
                type === 'success' ? 'bg-green-500' :
                type === 'warning' ? 'bg-yellow-500' :
                type === 'error' ? 'bg-red-500' :
                'bg-blue-500'
            }`;
            notification.textContent = message;
            
            document.getElementById('notifications').appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }
        
        function addToHistory(action, agent, time) {
            workHistory.push({ action, agent, time });
            updateHistoryDisplay();
        }
        
        function updateHistoryDisplay() {
            const historyContainer = document.getElementById('workHistory');
            if (workHistory.length === 0) {
                historyContainer.innerHTML = '<p class="text-gray-500 text-center py-4">No history available yet</p>';
                return;
            }
            
            historyContainer.innerHTML = workHistory.map(item => `
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                    <span class="text-gray-800">${item.action}</span>
                    <div class="text-right">
                        <div class="text-sm font-medium text-gray-600">${item.agent}</div>
                        <div class="text-xs text-gray-500">${item.time}</div>
                    </div>
                </div>
            `).reverse().join('');
        }
        
        function showStatus(message, type = 'info') {
            const statusDisplay = document.getElementById('statusDisplay');
            const statusMessage = document.getElementById('statusMessage');
            
            statusDisplay.className = `mt-8 p-6 rounded-xl text-center ${
                type === 'success' ? 'bg-green-100 border border-green-200' :
                type === 'warning' ? 'bg-yellow-100 border border-yellow-200' :
                'bg-blue-100 border border-blue-200'
            }`;
            
            statusMessage.textContent = message;
            statusDisplay.classList.remove('hidden');
            
            setTimeout(() => {
                statusDisplay.classList.add('hidden');
            }, 3000);
        }
        
        function startHandoff(agent) {
            const currentTime = new Date().toLocaleTimeString();
            updateProgress(1);
            updateAgentStatus('teacher', 'üü° Active', currentTime);
            updateAgentStatus('uneeza', 'üü¢ Ready', currentTime);
            
            // Enable next button
            document.querySelector('[onclick="handoffToFarida()"]').disabled = false;
            document.querySelector('[onclick="handoffToFarida()"]').classList.remove('opacity-50');
            
            addToHistory('Handoff initiated by Teacher', 'Teacher', currentTime);
            showStatus('üöÄ Handoff initiated from Teacher to Uneeza Ismail', 'info');
            showNotification('Teacher has started the handoff process!', 'success');
        }
        
        function handoffToFarida() {
            const currentTime = new Date().toLocaleTimeString();
            updateProgress(2);
            updateAgentStatus('uneeza', 'üü° Active', currentTime);
            updateAgentStatus('farida', 'üü¢ Ready', currentTime);
            
            // Enable next button
            document.querySelector('[onclick="handoffToSunaina()"]').disabled = false;
            document.querySelector('[onclick="handoffToSunaina()"]').classList.remove('opacity-50');
            
            addToHistory('Handoff from Uneeza to Farida', 'Uneeza Ismail', currentTime);
            showStatus('üîÑ Uneeza Ismail has successfully handed off to Farida Bano', 'success');
            showNotification('Uneeza has handed off to Farida Bano!', 'success');
        }
        
        function handoffToSunaina() {
            const currentTime = new Date().toLocaleTimeString();
            updateProgress(3);
            updateAgentStatus('farida', 'üü° Active', currentTime);
            updateAgentStatus('sunaina', 'üü¢ Ready', currentTime);
            
            // Enable final button
            document.querySelector('[onclick="distributeWork()"]').disabled = false;
            document.querySelector('[onclick="distributeWork()"]').classList.remove('opacity-50');
            
            addToHistory('Handoff from Farida to Sunaina', 'Farida Bano', currentTime);
            showStatus('üìã Farida Bano has handed off to Sunaina Ismail', 'success');
            showNotification('Farida has handed off to Sunaina Ismail!', 'success');
        }
        
        function distributeWork() {
            const currentTime = new Date().toLocaleTimeString();
            updateProgress(4);
            updateAgentStatus('sunaina', 'üü° Distributing Work', currentTime);
            
            // Update all tasks to "In Progress"
            const workItems = document.querySelectorAll('.work-item');
            workItems.forEach((item, index) => {
                setTimeout(() => {
                    item.dataset.status = 'progress';
                    const statusSpan = item.querySelector('.bg-yellow-100');
                    statusSpan.textContent = 'üîÑ In Progress';
                    statusSpan.className = 'bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs';
                    
                    item.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        item.style.transform = 'scale(1)';
                    }, 200);
                }, index * 100);
            });
            
            addToHistory('Work distributed to all agents', 'Sunaina Ismail', currentTime);
            showStatus('üìä Sunaina is now distributing work to teachers and students', 'success');
            showNotification('Work has been distributed successfully!', 'success');
            
            setTimeout(() => {
                updateAgentStatus('sunaina', '‚úÖ Work Distributed', currentTime);
            }, 2000);
        }
        
        function addNewWork() {
            const workType = prompt('Add work for Teachers or Students? (Type: teacher/student)');
            if (!workType) return;
            
            const workTitle = prompt('Enter work title:');
            if (!workTitle) return;
            
            const workDescription = prompt('Enter work description:');
            if (!workDescription) return;
            
            const priority = prompt('Set priority (high/medium/low):') || 'medium';
            
            if (workType && workTitle && workDescription) {
                const container = workType.toLowerCase() === 'teacher' ? 
                    document.getElementById('teacherWork') : 
                    document.getElementById('studentWork');
                
                const colorClass = workType.toLowerCase() === 'teacher' ? 'blue' : 'green';
                const priorityClass = `priority-${priority}`;
                const priorityColor = priority === 'high' ? 'red' : priority === 'medium' ? 'yellow' : 'green';
                const priorityEmoji = priority === 'high' ? 'üî¥' : priority === 'medium' ? 'üü°' : 'üü¢';
                
                taskCounter++;
                const currentTime = new Date().toLocaleTimeString();
                
                const newWorkItem = document.createElement('div');
                newWorkItem.className = `work-item ${priorityClass} p-4 bg-${colorClass}-50 rounded-lg cursor-pointer border border-${colorClass}-200`;
                newWorkItem.dataset.priority = priority;
                newWorkItem.dataset.status = 'pending';
                newWorkItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-medium text-gray-800">${workTitle}</h4>
                        <div class="flex space-x-2">
                            <span class="bg-${priorityColor}-100 text-${priorityColor}-800 px-2 py-1 rounded-full text-xs">${priorityEmoji} ${priority.charAt(0).toUpperCase() + priority.slice(1)}</span>
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs">‚è≥ Pending</span>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 mb-2">${workDescription}</p>
                    <p class="text-xs text-gray-500">Assigned: <span class="timestamp">${currentTime}</span></p>
                `;
                
                container.appendChild(newWorkItem);
                document.getElementById('totalTasks').textContent = `üìã ${taskCounter} Tasks`;
                
                addToHistory(`New ${priority} priority task added: ${workTitle}`, 'System', currentTime);
                showStatus(`‚úÖ New work item added for ${workType}s: ${workTitle}`, 'success');
                showNotification(`New ${priority} priority task added!`, 'success');
            }
        }
        
        function generateReport() {
            const allTasks = document.querySelectorAll('.work-item');
            const completed = document.querySelectorAll('.work-item[data-status="completed"]').length;
            const pending = document.querySelectorAll('.work-item[data-status="pending"]').length;
            const inProgress = document.querySelectorAll('.work-item[data-status="progress"]').length;
            
            document.getElementById('reportTotalTasks').textContent = allTasks.length;
            document.getElementById('reportCompleted').textContent = completed;
            document.getElementById('reportPending').textContent = pending + inProgress;
            
            document.getElementById('reportsSection').classList.remove('hidden');
            
            const currentTime = new Date().toLocaleTimeString();
            addToHistory('System report generated', 'System', currentTime);
            showNotification('Report generated successfully!', 'success');
        }
        
        function resetSystem() {
            if (confirm('Are you sure you want to reset the entire system?')) {
                currentStep = 0;
                updateProgress(0);
                
                // Reset agent statuses
                updateAgentStatus('teacher', 'üü¢ Available', '--');
                updateAgentStatus('uneeza', '‚ö™ Waiting', '--');
                updateAgentStatus('farida', '‚ö™ Waiting', '--');
                updateAgentStatus('sunaina', '‚ö™ Waiting', '--');
                
                // Reset all buttons
                const buttons = document.querySelectorAll('button[onclick*="handoff"], button[onclick*="distribute"]');
                buttons.forEach((btn, index) => {
                    if (index > 0) {
                        btn.disabled = true;
                        btn.classList.add('opacity-50');
                    }
                });
                
                // Reset task statuses
                const workItems = document.querySelectorAll('.work-item');
                workItems.forEach(item => {
                    item.dataset.status = 'pending';
                    const statusSpan = item.querySelector('.bg-blue-100, .bg-green-100');
                    if (statusSpan) {
                        statusSpan.textContent = '‚è≥ Pending';
                        statusSpan.className = 'bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs';
                    }
                });
                
                // Clear history
                workHistory = [];
                updateHistoryDisplay();
                
                // Hide reports
                document.getElementById('reportsSection').classList.add('hidden');
                
                const currentTime = new Date().toLocaleTimeString();
                addToHistory('System reset completed', 'System', currentTime);
                showNotification('System has been reset successfully!', 'success');
            }
        }
        
        // Add click handlers for work items
        document.addEventListener('click', function(e) {
            if (e.target.closest('.work-item')) {
                const workItem = e.target.closest('.work-item');
                const title = workItem.querySelector('h4').textContent;
                const currentStatus = workItem.dataset.status;
                
                if (currentStatus === 'pending') {
                    workItem.dataset.status = 'progress';
                    const statusSpan = workItem.querySelector('.bg-yellow-100');
                    statusSpan.textContent = 'üîÑ In Progress';
                    statusSpan.className = 'bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs';
                } else if (currentStatus === 'progress') {
                    workItem.dataset.status = 'completed';
                    const statusSpan = workItem.querySelector('.bg-blue-100');
                    statusSpan.textContent = '‚úÖ Completed';
                    statusSpan.className = 'bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs';
                    showNotification(`Task completed: ${title}`, 'success');
                }
                
                showStatus(`üìå Updated task: ${title}`, 'info');
            }
        });
        
        // Initialize system when page loads
        document.addEventListener('DOMContentLoaded', initializeSystem);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9807fb28b1ba21f0',t:'MTc1ODEwNTU4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
